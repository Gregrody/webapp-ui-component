<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebManage Pro - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* Global Design System: Consistency (Principle 9) */
        :root { --primary: #1976d2; --success: #4caf50; --error: #f44336; --bg: #f5f5f5; --card: #fff; --text: #333; --spacing: 8px; }
        [data-theme="dark"] { --bg: #121212; --card: #1e1e1e; --text: #e0e0e0; }
        body { font-family: 'Roboto', sans-serif; margin: 0; padding: 0; background: var(--bg); color: var(--text); transition: background 0.3s; } /* Responsiveness (Principle 7) */
        .sidebar { position: fixed; left: 0; top: 0; width: 250px; height: 100vh; background: var(--card); box-shadow: 2px 0 5px rgba(0,0,0,0.1); padding: var(--spacing) 0; z-index: 10; }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar li { margin: var(--spacing) 0; }
        .sidebar a { text-decoration: none; color: var(--text); display: flex; align-items: center; padding: calc(var(--spacing) * 2) var(--spacing); border-radius: 4px; transition: background 0.3s, transform 0.2s; } /* Feedback (Principle 7) */
        .sidebar a:hover, .sidebar a.active { background: #e3f2fd; transform: scale(1.02); } /* Similarity (Principle 2) */
        .main { margin-left: 250px; padding: calc(var(--spacing) * 2); min-height: 100vh; }
        .card { background: var(--card); border-radius: 8px; padding: calc(var(--spacing) * 2); margin: calc(var(--spacing) * 2) 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); } /* Chunking (Principle 1) */
        .card h2 { margin: 0 0 calc(var(--spacing) * 1) 0; color: var(--primary); } /* Hierarchy (Principle 1) */
        .stats { display: flex; gap: 20px; justify-content: space-around; flex-wrap: wrap; } /* Proximity (Principle 2) */
        .stat-item { text-align: center; flex: 1; min-width: 150px; padding: calc(var(--spacing) * 2); border: 1px solid #ddd; border-radius: 4px; } /* Similarity (Principle 2) */
        .stat-item h3 { margin: 0; font-size: 2em; color: var(--primary); }
        button { background: var(--primary); color: white; border: none; padding: calc(var(--spacing) * 1) calc(var(--spacing) * 2); border-radius: 4px; cursor: pointer; transition: transform 0.2s, background 0.3s; font-family: inherit; } /* Consistency (Principle 9) */
        button:hover { transform: scale(1.05); background: #1565c0; } /* Feedback (Principle 7) */
        button.success { background: var(--success); }
        button.error { background: var(--error); }
        button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        /* Progressive Disclosure (Principle 5) */
        details { margin: calc(var(--spacing) * 2) 0; }
        summary { cursor: pointer; font-weight: 500; padding: calc(var(--spacing) * 1); background: #f0f0f0; border-radius: 4px; }
        /* Editor Styles: Familiar Model (Principle 3) */
        .editor { border: 1px solid #ddd; min-height: 200px; padding: calc(var(--spacing) * 2); font-family: inherit; }
        .toolbar { display: flex; gap: var(--spacing); margin-bottom: var(--spacing); }
        /* AI Chat: Minimalism (Principle 4) */
        .ai-chat { position: fixed; bottom: 20px; right: 20px; width: 300px; background: var(--card); border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); display: none; flex-direction: column; height: 400px; }
        .ai-messages { flex: 1; padding: var(--spacing); overflow-y: auto; }
        .ai-input { padding: var(--spacing); border-top: 1px solid #ddd; }
        .ai-bubble { margin: var(--spacing) 0; padding: calc(var(--spacing) * 1); border-radius: 18px; max-width: 80%; }
        .ai-bubble.user { background: var(--primary); color: white; margin-left: auto; }
        .ai-bubble.ai { background: #e3f2fd; }
        /* Loading: Perceived Performance (Principle 8) */
        .skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 4px; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        .toast { position: fixed; top: 20px; right: 20px; padding: calc(var(--spacing) * 2); background: var(--success); color: white; border-radius: 4px; z-index: 100; opacity: 0; transition: opacity 0.3s; } /* Feedback (Principle 7) */
        /* Error Prevention (Principle 11) */
        .error-msg { color: var(--error); font-size: 0.9em; margin-top: var(--spacing); display: none; }
        input:invalid + .error-msg { display: block; } /* Real-time validation */
        /* Accessibility (Principle 6): High contrast, reduced motion */
        @media (prefers-reduced-motion: reduce) { * { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; } }
        @media (max-width: 768px) { .sidebar { width: 100%; position: relative; } .main { margin-left: 0; } .stats { flex-direction: column; } } /* Inklusi (Principle 6) */
        /* Privacy Modal: Kontrol (Principle 10) */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 50; justify-content: center; align-items: center; }
        .modal-content { background: var(--card); padding: calc(var(--spacing) * 4); border-radius: 8px; max-width: 400px; text-align: center; }
    </style>
</head>
<body>
    <!-- Privacy Modal: First-load consent (Tantangan: Privasi) -->
    <div id="privacyModal" class="modal" role="dialog" aria-labelledby="modalTitle">
        <div class="modal-content">
            <h3 id="modalTitle">Welcome to WebManage Pro</h3>
            <p>We respect your privacy. AI features use local data only. Allow tracking for personalized suggestions?</p>
            <button onclick="acceptPrivacy(true)">Yes</button>
            <button onclick="acceptPrivacy(false)">No</button>
        </div>
    </div>

    <!-- Sidebar: Familiar navigation (Principle 3) -->
    <nav class="sidebar" id="sidebar">
        <h3>WebManage Pro</h3>
        <ul>
            <li><a href="#/" class="active">üìä Dashboard</a></li>
            <li><a href="#/editor">‚úèÔ∏è Content Editor</a></li>
            <li><a href="#/analytics">üìà Analytics</a></li>
            <li><a href="#/seo">üîç SEO Tools</a></li>
            <li><a href="#/settings">‚öôÔ∏è Settings</a></li>
        </ul>
        <button onclick="toggleTheme()" aria-label="Toggle Dark Mode">üåô Dark Mode</button>
        <button onclick="toggleAIChat()" aria-label="Open AI Assistant">ü§ñ AI Help</button> <!-- Kontrol (Principle 10) -->
    </nav>

    <!-- Main Content: Dynamic via JS -->
    <main class="main" id="main">
        <!-- Dashboard View -->
        <div id="dashboard" class="view">
            <div class="card">
                <h2>Welcome! Daily Summary</h2>
                <div class="stats" id="stats">
                    <!-- Skeleton for loading (Principle 8) -->
                    <div class="stat-item skeleton" style="height: 100px;"></div>
                    <div class="stat-item skeleton" style="height: 100px;"></div>
                    <div class="stat-item skeleton" style="height: 100px;"></div>
                </div>
                <button onclick="loadData()" class="success">Refresh Data</button>
                <details>
                    <summary>Advanced Options</summary> <!-- Progressive Disclosure (Principle 5) -->
                    <p>Filter by date range or export CSV.</p>
                </details>
            </div>
            <button onclick="navigateTo('/editor')">Quick Edit</button>
        </div>

        <!-- Editor View -->
        <div id="editor" class="view" style="display: none;">
            <div class="card">
                <h2>Content Editor</h2>
                <div class="toolbar">
                    <button onclick="editor.execCommand('bold')" aria-label="Bold">B</button>
                    <button onclick="editor.execCommand('italic')" aria-label="Italic">I</button>
                    <button onclick="insertSuggestion()" aria-label="AI Suggestion">üí° AI Suggest</button>
                    <button onclick="undo()" aria-label="Undo">‚Ü∂ Undo</button> <!-- Kontrol (Principle 10) -->
                </div>
                <div id="editor" class="editor" contenteditable="true" role="textbox" aria-label="Content editor">Start typing your content here...</div>
                <div class="error-msg" id="urlError">Invalid URL format. Try https://example.com</div>
                <input type="url" placeholder="Add Link" id="urlInput" aria-describedby="urlError">
                <button onclick="saveContent()" class="success" disabled>Save</button>
                <button onclick="showAIErrorFix()" class="error">Fix Error</button> <!-- Error Recovery (Principle 11) -->
            </div>
        </div>

        <!-- Placeholder for Other Views -->
        <div id="analytics" class="view" style="display: none;">
            <div class="card"><h2>Analytics</h2><p>Interactive charts here (integrate Chart.js).</p></div>
        </div>
        <div id="seo" class="view" style="display: none;">
            <div class="card"><h2>SEO Tools</h2><p>Checklist with AI feedback.</p><progress value="95" max="100"></progress></div> <!-- Closure (Principle 2) -->
        </div>
        <div id="settings" class="view" style="display: none;">
            <div class="card"><h2>Settings</h2><label><input type="checkbox" id="ai-mode" checked> Enable AI Mode</label></div>
        </div>
    </main>

    <!-- AI Chat: Multi-modal placeholder (Tantangan: Interaksi) -->
    <div class="ai-chat" id="aiChat">
        <div class="ai-messages" id="messages">
            <div class="ai-bubble ai">Hi! How can I help? Type naturally, e.g., "Optimize this title."</div>
        </div>
        <div class="ai-input">
            <input type="text" id="aiInput" placeholder="Ask AI..." onkeypress="if(event.key==='Enter') sendMessage()">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script>
        // Global State: Undo Stack (Principle 10)
        let undoStack = [];
        let currentView = 'dashboard';
        let aiMode = true; // Toggled in settings

        // Init: Privacy & Load (Principle 10, 11)
        window.onload = () => {
            document.getElementById('privacyModal').style.display = 'flex';
            loadData(); // Simulated data fetch with skeleton (Principle 8)
        };

        function acceptPrivacy(allow) {
            localStorage.setItem('privacyConsent', allow);
            document.getElementById('privacyModal').style.display = 'none';
            if (!allow) document.getElementById('ai-mode').checked = false;
        }

        // Navigation: Model Mental (Principle 3)
        window.onhashchange = () => {
            const hash = window.location.hash.substring(1) || '/';
            document.querySelectorAll('.view').forEach(v => v.style.display = 'none');
            document.getElementById(hash === '/' ? 'dashboard' : hash.replace('/', '')).style.display = 'block';
            document.querySelector('.sidebar a.active').classList.remove('active');
            document.querySelector(`a[href="${hash}"]`).classList.add('active');
        };
        function navigateTo(path) { window.location.hash = path; }

        // Data Loading: Perceived Performance (Principle 8)
        function loadData() {
            const stats = document.getElementById('stats');
            stats.innerHTML = ''; // Clear skeletons
            setTimeout(() => { // Simulate API delay
                stats.innerHTML = `
                    <div class="stat-item"><h3>150</h3><p>Daily Visits</p></div>
                    <div class="stat-item"><h3>2</h3><p>Urgent Tasks</p></div>
                    <div class="stat-item"><h3>95%</h3><p>SEO Score</p></div>
                `;
                showToast('Data refreshed!');
                if (Math.random() < 0.3) showSuggestion(); // Contextual AI (Principle 5)
            }, 1500);
        }

        // Editor Functions: Simplicity & Error Prevention (Principles 4, 11)
        const editor = document.querySelector('.editor[contenteditable]');
        editor.addEventListener('input', () => {
            undoStack.push(editor.innerHTML);
            document.querySelector('button.success').disabled = false;
        });
        function saveContent() {
            if (!aiMode || validateUrl()) {
                localStorage.setItem('content', editor.innerHTML);
                showToast('Content saved!');
            } else {
                showError('urlError', true);
            }
        }
        function validateUrl() {
            const url = document.getElementById('urlInput').value;
            return url.startsWith('https://');
        }
        function showError(id, show) {
            document.getElementById(id).style.display = show ? 'block' : 'none';
        }
        function undo() {
            if (undoStack.length > 1) {
                undoStack.pop();
                editor.innerHTML = undoStack[undoStack.length - 1];
                showToast('Undone!');
            }
        }
        function insertSuggestion() {
            if (aiMode) {
                editor.innerHTML += '<p>Suggested: Add a high-quality image for engagement. <img src="https://via.placeholder.com/300" alt="AI Suggested Image"></p>'; // Simulated AI (Principle 4)
                showToast('Suggestion inserted!');
            }
        }
        function showAIErrorFix() {
            if (!validateUrl()) {
                document.getElementById('urlInput').value = 'https://' + document.getElementById('urlInput').value;
                showError('urlError', false);
                showToast('Fixed by AI!');
            }
        }

        // AI Chat: Natural Language & Feedback (Principles 4, 7)
        function toggleAIChat() {
            const chat = document.getElementById('aiChat');
            chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
        }
        function sendMessage() {
            const input = document.getElementById('aiInput');
            const msg = input.value;
            if (!msg) return;
            const messages = document.getElementById('messages');
            messages.innerHTML += `<div class="ai-bubble user">${msg}</div>`;
            input.value = '';
            // Typing indicator (Principle 7)
            messages.innerHTML += '<div class="ai-bubble ai skeleton" style="width: 50px; height: 20px;"></div>';
            setTimeout(() => {
                messages.removeChild(messages.lastElementChild);
                const response = aiMode ? getAIResponse(msg) : 'AI mode disabled.';
                messages.innerHTML += `<div class="ai-bubble ai">${response}</div><div title="Based on keyword analysis">‚ÑπÔ∏è</div>`; // Transparency (Principle 10)
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
        }
        function getAIResponse(msg) {
            if (msg.toLowerCase().includes('optimize')) return 'Suggested title: "Engaging Content for Better SEO" ‚Äì Increases click-through by 20%.';
            return 'Great question! Here's a quick tip: Use short paragraphs for readability.';
        }

        // Theme Toggle: User Control (Principle 10)
        function toggleTheme() {
            document.body.dataset.theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
        }

        // Toast: Responsiveness (Principle 7)
        function showToast(text) {
            const toast = document.getElementById('toast');
            toast.textContent = text;
            toast.style.opacity = '1';
            setTimeout(() => { toast.style.opacity = '0'; }, 3000);
        }

        // Suggestion Trigger: Progressive (Principle 5)
        function showSuggestion() {
            if (confirm('Low SEO detected. Show AI tips?')) toggleAIChat();
        }

        // Keyboard Nav: Accessibility (Principle 6)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') document.getElementById('aiChat').style.display = 'none';
            if (e.ctrlKey && e.key === 'z') undo();
        });
    </script>
</body>
</html>